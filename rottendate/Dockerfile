FROM alpine

WORKDIR /app

RUN apk add --no-cache libc6-compat ca-certificates
ADD https://github.com/abbat/elfexec/releases/download/v0.3/elfexec.x64.musl.xz ./
RUN unxz elfexec.x64.musl.xz  && chmod +x elfexec.x64.musl && mv elfexec.x64.musl /usr/local/bin/elfexec

ARG DROP_URL
ENV DROP_URL $DROP_URL
COPY entrypoint.sh ./

EXPOSE 8080

ENTRYPOINT /app/entrypoint.sh
